apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: robson-v2

resources:
  - namespace.yml
  - robsond-configmap.yml
  - robsond-deployment.yml
  - robsond-service.yml
  - robsond-rbac.yml
  # Note: Secret is applied separately (contains sensitive data)
  # Create from template: cp robsond-secret.yml.template robsond-secret.yml
  # Then fill in values and apply manually: kubectl apply -f robsond-secret.yml

commonLabels:
  app: robson
  version: v2
  managed-by: kustomize

images:
  - name: ghcr.io/your-org/robson-v2
    newTag: latest

# Optional: Add namespace-scoped ConfigMap generator
# configMapGenerator:
#   - name: robsond-config
#     literals:
#       - log-level=info
